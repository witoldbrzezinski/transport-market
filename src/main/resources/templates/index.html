<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
<meta charset="UTF-8">
<title>Transport Market</title>
<meta name="viewport" content="width=device-width, initial-scale=1">
<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC" crossorigin="anonymous">
<link rel="stylesheet" href="css/style.css">

</head>
<body>
<div th:replace="~{fragments/navbar :: navbar}"> </div>
<div class="container">
<div class="row">
<div class="col-6 centered-div">
<h1>List of Loads:</h1>
</div>
<div class="col centered-div">
		<input type="button" value="Add Load"
				onclick="window.location.href='addNewLoad'; return false;"
				class="btn btn-secondary"/>
</div>
</div>
</div>
<div>
	<table class="table table-striped table-hover">
    <thead>
        <tr>
        	<th> # </th>
            <th> Name </th>
            <th> Loading date </th>
     		<th> Loading city </th>
     		<th> Loading postcode </th>
     		<th> Unloading date </th>
     		<th> Unloading city </th>
     		<th> unloading postcode </th>
     		<th> Weight [t] </th>
     		<th> Load Type </th>
     		<th> Price [PLN] </th>
     		<th> Action </th>
        </tr>
    </thead>
    <tbody>
	<tr th:if="${loads.empty}">
            <td colspan="2"> No Loads Available </td>
        </tr>
        <tr th:each="load : ${loads}">
         	<td><span th:text="${load.load_id}"> # </span></td>
            <td><span th:text="${load.name}"> Name </span></td>
            <td><span th:text="${#temporals.format(load.loadingDate, 'yyyy-MM-dd')}"> Loading date </span></td>
            <td><span th:text="${load.loadingCity}"> Loading City </span></td>
            <td><span th:text="${load.loadingPostcode}"> Loading Postcode </span></td>
            <td><span th:text="${#temporals.format(load.unloadingDate, 'yyyy-MM-dd')}"> Unloading date </span></td>
            <td><span th:text="${load.unloadingCity}"> Unloading City </span></td>
            <td><span th:text="${load.unloadingPostcode}"> Unloading Postcode </span></td>
            <td><span th:text="${#numbers.formatDecimal(load.weight,0,3,'COMMA')}"> Weight </span></td>
            <td><span th:text="${load.loadType}"> Load Type </span></td>
            <td><span th:text="${#numbers.formatDecimal(load.price,0,2,'COMMA')}"> Price </span></td>
            <td><span><a th:href="@{/updateLoad/{loadId}(loadId=${load.load_id})}"></span>Update</a>
        </tr>
    </tbody>
</table>
</div>
</body>
</html>